import{Y as I,a as N,r as l,c as q,b as e,F as R,d as C,e as s,w as i,o as p,t as U,f as b,g as T,h as A,i as Y,j as w,k as B,l as F,N as j,m as D,n as z,p as E,q as O,s as P,u as W,v as J,x as Q,y as G,z as K,Q as X,A as Z}from"./vendor-9a6ab010.js";const x="/build/assets/default-149ace13.svg",h=(o,t)=>{const c=o.__vccOpts||o;for(const[m,n]of t)c[m]=n;return c},ee={name:"Home",components:{YandexMarker:I,YandexMap:N},data(){return{map:null,map_controls:["typeSelector","trafficControl","fullscreenControl"],map_detailed_controls:{zoomControl:{position:{right:10,top:50}}},categories:[{title:"Фото студии",icon:x},{title:"Фото стульев",icon:x},{title:"Фото столов",icon:x},{title:"Фото ложек",icon:x},{title:"Фото кружек",icon:x},{title:"Фото Саши",icon:x},{title:"Фото Маши",icon:x},{title:"Фото Миши",icon:x},{title:"Фото Семёна",icon:x},{title:"Фото Семёна",icon:x},{title:"Фото Семёна",icon:x},{title:"Фото Семёна",icon:x},{title:"Фото Семёна",icon:x}]}}},te={class:"flex q-gutter-x-lg justify-center page-padding no-wrap overflow-auto",style:{margin:"18px"}},se={class:"text-center"},ne=["src"],oe={class:"text-01"};function le(o,t,c,m,n,r){const u=l("YandexMarker"),a=l("YandexMap");return p(),q("div",null,[e("div",te,[(p(!0),q(R,null,C(n.categories,g=>(p(),q("div",se,[e("img",{src:g.icon},null,8,ne),e("div",oe,U(g.title),1)]))),256))]),s(a,{coordinates:[55.75,37.57],zoom:11,"detailed-controls":n.map_detailed_controls,controls:n.map_controls,style:{height:"calc(100vh - 92px - 80px)"}},{default:i(()=>[s(u,{coordinates:[55.684381,37.339849]})]),_:1},8,["detailed-controls","controls"])])}const ie=h(ee,[["render",le]]),ae={data(){return{tab:"profile"}}},ce={class:"row q-mt-lg"},re={class:"col-12"},ue={class:"q-gutter-y-md",style:{width:"fit-content"}};function _e(o,t,c,m,n,r){const u=l("q-route-tab"),a=l("q-tabs"),g=l("q-page-container"),_=l("q-layout");return p(),b(_,null,{default:i(()=>[s(g,null,{default:i(()=>[e("div",ce,[e("div",re,[e("div",ue,[s(a,{modelValue:n.tab,"onUpdate:modelValue":t[0]||(t[0]=f=>n.tab=f),class:"text-01 text-m","indicator-color":"primary"},{default:i(()=>[s(u,{name:"profile",to:"/account",label:"Мой профиль"}),s(u,{name:"security",to:"/account/account_security",label:"Безопасность"}),s(u,{name:"payments",label:"Платежи"}),s(u,{name:"notifications",label:"Уведомления"})]),_:1},8,["modelValue"])])])]),T(o.$slots,"default")]),_:3})]),_:3})}const H=h(ae,[["render",_e]]),de="/build/assets/LeshaSVO-0aa53c55.png",pe="/build/assets/site-amico-1-e372d105.svg",me="/build/assets/analysis-amico-1-3ac6e64e.svg",ge={data(){return{text:"Александр",date:"",phone:"+7",mail:"",about:""}},name:"Home",components:{AccountContainer:H}},fe={class:"row"},he={class:"col-lg-3 col-md-12 col-xs-12 flex column items-center q-mt-md q-mr-auto"},xe=e("img",{src:de,alt:"Аватарка",style:{width:"fit-content"}},null,-1),qe={class:"col-lg-4 col-md-12 col-xs-12 q-mt-md q-mr-auto"},ve={class:"column"},be=e("span",{class:"text-m-b text-01"},"Имя по документам",-1),ye=e("span",{class:"text-xs text-02"},"Имя здесь должно совпадать с именем в вашем паспорте",-1),$e={class:"column q-mt-lg"},we=e("span",{class:"text-m-b text-01"},"Документ подтверждающий личность",-1),Se=e("span",{class:"text-xs text-02"},"Удостоверение личности государственного образца",-1),Ve={class:"column q-mt-lg"},ke=e("span",{class:"text-m-b text-01"},"Дата рождения",-1),Ee=e("span",{class:"text-xs text-02"},"Пользоваться сервисом могут лица, старше 18 лет",-1),Re={class:"column q-mt-lg"},Ue=e("span",{class:"text-m-b text-01"},"Номер телефона",-1),Ae=e("span",{class:"text-xs text-02"},"Для связи с CreativeHub и гостями по подтверждённым бронированиям",-1),Oe={class:"column q-mt-lg"},Ce=e("span",{class:"text-m-b text-01"},"Электронная почта",-1),Te=e("span",{class:"text-xs text-02"},"Для связи с CreativeHub и гостями по подтверждённым бронированиям",-1),je={class:"column q-mt-lg"},De=e("span",{class:"text-m-b text-01"},"Информация о себе",-1),ze=e("span",{class:"text-xs text-02"},"Расскажите своим гостям и арендодателям о себе",-1),He=e("div",{class:"col-lg-4 col-md-12 col-xs-12 q-mt-md flex column"},[e("div",{class:"info-card"},[e("img",{src:pe}),e("span",{class:"text-m-b text-01"},"Зачем вносить ваши данные?"),e("span",{class:"text-s text-01"},"Для заключения договоров на площадке CreativeHub необходимо подтвердить вашу личность. Мы храним все персональные данные в соответствии с ФЗ-152 “О персональных данных”.")]),e("div",{class:"info-card q-mt-lg"},[e("img",{src:me}),e("span",{class:"text-m-b text-01"},"Зачем вносить ваши данные?"),e("span",{class:"text-s text-01"},"Для заключения договоров на площадке CreativeHub необходимо подтвердить вашу личность. Мы храним все персональные данные в соответствии с ФЗ-152 “О персональных данных”.")])],-1);function Le(o,t,c,m,n,r){const u=l("q-btn"),a=l("q-input"),g=l("AccountContainer");return p(),b(g,null,{default:i(()=>[e("div",fe,[e("div",he,[xe,s(u,{class:"self-center secondary link",label:"Загрузить фото",unelevated:"","no-caps":""})]),e("div",qe,[e("div",ve,[be,ye,s(a,{outlined:"",modelValue:n.text,"onUpdate:modelValue":t[0]||(t[0]=_=>n.text=_),readonly:"",class:"base-03"},null,8,["modelValue"])]),e("div",$e,[we,Se,s(u,{label:"Загрузить документ",class:"link q-mt-sm",style:{width:"fit-content"},outline:"",unelevated:"","no-caps":""})]),e("div",Ve,[ke,Ee,s(a,{outlined:"",modelValue:n.date,"onUpdate:modelValue":t[1]||(t[1]=_=>n.date=_),type:"date"},null,8,["modelValue"])]),e("div",Re,[Ue,Ae,s(a,{mask:"+7(###)###-##-##","fill-mask":"_",outlined:"",modelValue:n.phone,"onUpdate:modelValue":t[2]||(t[2]=_=>n.phone=_)},null,8,["modelValue"]),s(u,{label:"Добавить другой номер",class:"link text-s-b",style:{width:"fit-content"},flat:"","no-caps":""})]),e("div",Oe,[Ce,Te,s(a,{outlined:"",modelValue:n.mail,"onUpdate:modelValue":t[3]||(t[3]=_=>n.mail=_)},null,8,["modelValue"])]),e("div",je,[De,ze,s(a,{outlined:"",modelValue:n.about,"onUpdate:modelValue":t[4]||(t[4]=_=>n.about=_),type:"textarea"},null,8,["modelValue"])])]),He])]),_:1})}const Me=h(ge,[["render",Le]]),Ie="/build/assets/OTP-amico-1-f2d66faf.svg",Ne={data(){return{value1:A(!1),value2:A(!1)}},name:"Home",components:{AccountContainer:H}},Ye={class:"row"},Be={class:"col-lg-7 col-md-12 col-xs-12 q-mt-md q-mr-auto"},Fe={class:"column"},Pe=e("span",{class:"text-m-b text-01"},"Пароль",-1),We=e("span",{class:"text-xs text-02"},"Последний раз изменён: 10 дней назад",-1),Je={class:"column q-mt-lg"},Qe=e("span",{class:"text-m-b text-01"},"Двухфакторная аутентификация",-1),Ge=e("span",{class:"text-xs text-02"},"Вы будете получать код подтверждения для входа в аккаунт",-1),Ke={class:"column q-mt-lg"},Xe=e("span",{class:"text-m-b text-01"},"Уведомления о входе в аккаунт",-1),Ze=e("span",{class:"text-xs text-02"},"Вы будете получать код подтверждения для входа в аккаунт",-1),et={class:"column q-mt-lg"},tt=e("span",{class:"text-m-b text-01"},"История авторизации",-1),st={class:"flex"},nt=e("span",{class:"text-m text-01"},"Windows 10",-1),ot=e("span",{class:"text-s text-02"},"14.04.2023 в 10:18",-1),lt=e("div",{class:"col-lg-4 col-md-12 col-xs-12 q-mt-md flex column"},[e("div",{class:"info-card"},[e("img",{src:Ie}),e("span",{class:"text-m-b text-01"},"Повысьте безопасность аккаунта"),e("span",{class:"text-s text-01"},"Безопасность нашего сообщества в приоритете. По этой причине мы проверяем степень защиты всех аккаунтов.")])],-1);function it(o,t,c,m,n,r){const u=l("q-btn"),a=l("q-toggle"),g=l("q-icon"),_=l("AccountContainer");return p(),b(_,null,{default:i(()=>[e("div",Ye,[e("div",Be,[e("div",Fe,[Pe,We,s(u,{label:"Изменить пароль",class:"link q-mt-sm",style:{width:"fit-content"},outline:"",unelevated:"","no-caps":""})]),e("div",Je,[Qe,Ge,s(u,{label:"Подключить",class:"link q-mt-sm",style:{width:"fit-content"},outline:"",unelevated:"","no-caps":""})]),e("div",Ke,[Xe,Ze,s(a,{label:"Электронная почта",modelValue:n.value1,"onUpdate:modelValue":t[0]||(t[0]=f=>n.value1=f),color:"primary","keep-color":""},null,8,["modelValue"]),s(a,{label:"Номер телефона",modelValue:n.value2,"onUpdate:modelValue":t[1]||(t[1]=f=>n.value2=f),color:"primary","keep-color":""},null,8,["modelValue"])]),e("div",et,[tt,e("div",st,[s(g,{name:"computer"}),nt,ot])])]),lt])]),_:1})}const at=h(Ne,[["render",it]]),ct={name:"PageNotFound"};function rt(o,t,c,m,n,r){return p(),q("div",null," Страница не найдена ")}const ut=h(ct,[["render",rt]]),_t={name:"LeaseHistory"};function dt(o,t,c,m,n,r){return p(),q("div",null," История аренды ")}const pt=h(_t,[["render",dt]]),mt={name:"LeaseObject"};function gt(o,t,c,m,n,r){return p(),q("div",null," Сдать объект в аренду ")}const ft=h(mt,[["render",gt]]),ht={name:"Helps"};function xt(o,t,c,m,n,r){return p(),q("div",null," Помощь ")}const qt=h(ht,[["render",xt]]),vt={name:"FavoriteObjects"};function bt(o,t,c,m,n,r){return p(),q("div",null," Избранные объекты ")}const yt=h(vt,[["render",bt]]),$t={name:"MyObjects"};function wt(o,t,c,m,n,r){return p(),q("div",null," Мои объекты ")}const St=h($t,[["render",wt]]),Vt=[{path:"/",component:ie,meta:{requiresAuth:!1,fullWidth:!0}},{path:"/help",component:qt,meta:{requiresAuth:!1}},{path:"/:pathMatch(.*)*",component:ut,meta:{requiresAuth:!1}},{path:"/account",component:Me,meta:{requiresAuth:!0}},{path:"/account/account_security",component:at,meta:{requiresAuth:!0}},{path:"/favorite_objects",component:yt,meta:{requiresAuth:!0}},{path:"/lease_object",component:ft,meta:{requiresAuth:!0}},{path:"/lease_history",component:pt,meta:{requiresAuth:!0}},{path:"/my_objects",component:St,meta:{requiresAuth:!0}}],S=Y("user",{state:()=>({user:JSON.parse(window.localStorage.getItem("user")),token:window.localStorage.getItem("token"),show_signin_dialog:!1,show_signup_dialog:!1}),actions:{signup(o,t,c){return w.post("/api/register",{name:o,email:t,password:c})},signin(o,t){return w.post("/api/login",{email:o,password:t}).then(c=>this.setAuth(c.data.data.token,c.data.data.user))},logout(){return w.post("/api/logout").then(()=>this.removeAuth())},setAuth(o,t){this.user=t,this.token=o,w.defaults.headers.common.Authorization="Bearer "+o,window.localStorage.setItem("token",o),window.localStorage.setItem("user",JSON.stringify(t))},removeAuth(){this.token=null,this.user=null,window.localStorage.removeItem("token"),window.localStorage.removeItem("user"),delete w.defaults.headers.common.Authorization}}}),L=B({history:F(),routes:Vt});L.beforeEach(async(o,t,c)=>{const m=S();o.meta.requiresAuth&&!m.token?(m.show_signin_dialog=!0,j.create({icon:"info",message:"Для продолжения необходимо авторизоваться"}),t.meta.requiresAuth===!1?c(!1):c("/")):c()});const kt={name:"SigninDialog",data(){return{USER_STORE:S(),signin_email:null,signin_password:null,signin_loading:!1}},computed:{show_signin:{get(){return this.USER_STORE.show_signin_dialog},set(o){this.USER_STORE.show_signin_dialog=o}}},methods:{async signin(){return this.signin_loading=!0,this.USER_STORE.signin(this.signin_email,this.signin_password).then(()=>{this.$q.notify({type:"positive",message:"Авторизация выполнена"}),this.USER_STORE.show_signin_dialog=!1}).catch(o=>{(o.status=403)?this.$q.notify({type:"negative",message:"Неверные данные учётной записи"}):this.$q.notify({type:"negative",message:"Ошибка сервера"})}).finally(()=>this.signin_loading=!1)},showSignupDialog(){this.USER_STORE.show_signup_dialog=!0}}},Et=e("div",{class:"text-h6"},"Авторизация",-1);function Rt(o,t,c,m,n,r){const u=l("q-space"),a=l("q-btn"),g=l("q-card-section"),_=l("q-separator"),f=l("q-icon"),v=l("q-input"),V=l("q-card"),k=l("q-dialog"),y=D("close-popup");return p(),b(k,{modelValue:r.show_signin,"onUpdate:modelValue":t[4]||(t[4]=d=>r.show_signin=d),persistent:""},{default:i(()=>[s(V,null,{default:i(()=>[e("form",{onSubmit:t[3]||(t[3]=z(d=>r.signin(),["prevent"]))},[s(g,{class:"row items-center"},{default:i(()=>[Et,s(u),E(s(a,{icon:"close",flat:"",round:"",dense:""},null,512),[[y]])]),_:1}),s(_),s(g,{class:"q-gutter-y-md"},{default:i(()=>[s(v,{modelValue:n.signin_email,"onUpdate:modelValue":t[0]||(t[0]=d=>n.signin_email=d),label:"Введите электронную почту",filled:"",type:"email",required:""},{prepend:i(()=>[s(f,{name:"email"})]),_:1},8,["modelValue"]),s(v,{modelValue:n.signin_password,"onUpdate:modelValue":t[1]||(t[1]=d=>n.signin_password=d),label:"Введите пароль",filled:"",type:"password",required:""},{prepend:i(()=>[s(f,{name:"password"})]),_:1},8,["modelValue"])]),_:1}),s(_),s(g,{class:"flex justify-end q-gutter-x-xs"},{default:i(()=>[E(s(a,{onClick:t[2]||(t[2]=d=>r.showSignupDialog()),flat:"",label:"Регистрация",color:"primary"},null,512),[[y]]),s(a,{label:"Подтвердить",color:"primary",type:"submit",loading:n.signin_loading},null,8,["loading"])]),_:1})],32)]),_:1})]),_:1},8,["modelValue"])}const Ut=h(kt,[["render",Rt]]),At={name:"SignupDialog",data(){return{USER_STORE:S(),signup_name:null,signup_email:null,signup_password:null,signup_confirm_password:null,signup_loading:!1}},computed:{show_signup:{get(){return this.USER_STORE.show_signup_dialog},set(o){this.USER_STORE.show_signup_dialog=o}}},methods:{signup(){if(this.signup_password.length<6){this.$q.notify({type:"negative",message:"Длина пароля менее 6 символов"});return}if(this.signup_password!==this.signup_confirm_password){this.$q.notify({type:"negative",message:"Пароли не совпадают"});return}this.signup_loading=!0,this.USER_STORE.signup(this.signup_name,this.signup_email,this.signup_password).then(()=>{this.USER_STORE.signin(this.signup_email,this.signup_password).then(()=>{this.$q.notify({type:"positive",message:"Регистрация выполнена"}),this.USER_STORE.show_signup_dialog=!1})}).catch(o=>{(o.status=422)?this.$q.notify({type:"negative",message:"Такая почта уже зарегистрирована"}):this.$q.notify({type:"negative",message:"Ошибка сервера"})}).finally(()=>this.signup_loading=!1)},showSigninDialog(){this.USER_STORE.show_signin_dialog=!0}}},Ot=e("div",{class:"text-h6"},"Регистрация",-1);function Ct(o,t,c,m,n,r){const u=l("q-space"),a=l("q-btn"),g=l("q-card-section"),_=l("q-separator"),f=l("q-icon"),v=l("q-input"),V=l("q-card"),k=l("q-dialog"),y=D("close-popup");return p(),b(k,{modelValue:r.show_signup,"onUpdate:modelValue":t[6]||(t[6]=d=>r.show_signup=d),persistent:""},{default:i(()=>[s(V,null,{default:i(()=>[e("form",{onSubmit:t[5]||(t[5]=z(d=>r.signup(),["prevent"]))},[s(g,{class:"row items-center"},{default:i(()=>[Ot,s(u),E(s(a,{icon:"close",flat:"",round:"",dense:""},null,512),[[y]])]),_:1}),s(_),s(g,{class:"q-gutter-y-md"},{default:i(()=>[s(v,{modelValue:n.signup_name,"onUpdate:modelValue":t[0]||(t[0]=d=>n.signup_name=d),label:"Введите имя",filled:"",required:""},{prepend:i(()=>[s(f,{name:"face"})]),_:1},8,["modelValue"]),s(v,{modelValue:n.signup_email,"onUpdate:modelValue":t[1]||(t[1]=d=>n.signup_email=d),label:"Введите электронную почту",filled:"",type:"email",required:""},{prepend:i(()=>[s(f,{name:"email"})]),_:1},8,["modelValue"]),s(v,{modelValue:n.signup_password,"onUpdate:modelValue":t[2]||(t[2]=d=>n.signup_password=d),label:"Введите пароль",filled:"",type:"password",required:"",minlength:"6"},{prepend:i(()=>[s(f,{name:"password"})]),_:1},8,["modelValue"]),s(v,{modelValue:n.signup_confirm_password,"onUpdate:modelValue":t[3]||(t[3]=d=>n.signup_confirm_password=d),label:"Повторите пароль",filled:"",type:"password",required:"",minlength:"6"},{prepend:i(()=>[s(f,{name:"password"})]),_:1},8,["modelValue"])]),_:1}),s(_),s(g,{class:"flex justify-end q-gutter-x-xs"},{default:i(()=>[E(s(a,{onClick:t[4]||(t[4]=d=>r.showSigninDialog()),flat:"",label:"Авторизация",color:"primary"},null,512),[[y]]),s(a,{label:"Подтвердить",color:"primary",type:"submit",loading:n.signup_loading},null,8,["loading"])]),_:1})],32)]),_:1})]),_:1},8,["modelValue"])}const Tt=h(At,[["render",Ct]]),jt="/build/assets/Logo-00950b74.svg";const Dt={name:"Layout",components:{SignupDialog:Tt,SigninDialog:Ut},data(){return{USER_STORE:S(),active:"guide",search:"",user_panel_links:[{title:"Аккаунт",to:"/account"},{title:"История аренды",to:"/lease_history"},{title:"Мои объекты",to:"/my_objects"},{title:"Избранное",to:"/favorite_objects"},{title:"Помощь",to:"/help"}]}},methods:{logout(){this.USER_STORE.logout().then(()=>{this.$q.notify({type:"positive",message:"Вы вышли из своей учётной записи"}),this.$route.meta.requiresAuth&&this.$router.push("/")})}}},zt=o=>(J("data-v-23f251fe"),o=o(),Q(),o),Ht={class:"flex justify-between items-center page-padding no-wrap border-radius-lg",style:{margin:"10px 0"}},Lt=zt(()=>e("img",{src:jt,style:{height:"40px"}},null,-1)),Mt={class:"flex-grow-1 flex justify-center"},It={class:"flex"},Nt={class:"user-panel"},Yt={class:"flex justify-center full-width"};function Bt(o,t,c,m,n,r){const u=l("router-link"),a=l("q-icon"),g=l("q-input"),_=l("q-btn"),f=l("q-item-section"),v=l("q-item"),V=l("q-list"),k=l("q-menu"),y=l("q-separator"),d=l("SigninDialog"),M=l("SignupDialog");return p(),q("div",null,[e("header",null,[e("div",Ht,[e("div",null,[s(u,{to:"/"},{default:i(()=>[Lt]),_:1})]),e("div",Mt,[s(g,{outlined:"",modelValue:n.search,"onUpdate:modelValue":t[0]||(t[0]=$=>n.search=$),placeholder:"Найдите площадку мечты",dense:"",style:{"max-width":"500px"},class:"flex-grow-1"},{prepend:i(()=>[s(a,{name:"search"})]),_:1},8,["modelValue"])]),e("div",It,[s(_,{label:"Сдать в аренду",flat:"","no-caps":"",class:"self-center btn-p-sm link",style:{height:"40px","margin-right":"12px"},to:"/lease_object"}),e("div",null,[n.USER_STORE.user?(p(),q(R,{key:0},[e("div",Nt,[s(a,{name:"menu",size:"24px"}),s(a,{name:"o_account_circle",size:"24px",class:"q-ml-sm q-mr-xs"}),e("span",null,U(n.USER_STORE.user.name),1)]),s(k,{"auto-close":"",fit:"",offset:[0,4]},{default:i(()=>[s(V,null,{default:i(()=>[n.USER_STORE.user.is_admin?(p(),b(v,{key:0,clickable:"",onClick:t[1]||(t[1]=$=>o.$router.push("/admin_panel"))},{default:i(()=>[s(f,{class:"text-size-sm"},{default:i(()=>[O("Панель администратора")]),_:1})]),_:1})):P("",!0),(p(!0),q(R,null,C(n.user_panel_links,$=>(p(),b(v,{to:$.to,clickable:""},{default:i(()=>[s(f,{class:"text-size-sm",textContent:U($.title)},null,8,["textContent"])]),_:2},1032,["to"]))),256)),s(v,{clickable:"",onClick:t[2]||(t[2]=$=>r.logout())},{default:i(()=>[s(f,{class:"text-size-sm"},{default:i(()=>[O("Выйти")]),_:1})]),_:1})]),_:1})]),_:1})],64)):(p(),q("div",{key:1,class:"user-panel",onClick:t[3]||(t[3]=$=>n.USER_STORE.show_signin_dialog=!0)},[s(a,{name:"menu",size:"24px",class:"q-mr-sm"}),s(a,{name:"o_account_circle",size:"24px"})]))])])]),s(y)]),e("main",Yt,[e("div",{class:W(o.$route.meta.fullWidth?"full-width":"page-default-width")},[T(o.$slots,"default",{},void 0,!0)],2)]),s(d),s(M)])}const Ft=h(Dt,[["render",Bt],["__scopeId","data-v-23f251fe"]]),Pt={name:"App",components:{Layout:Ft},beforeMount(){S().token&&(w.defaults.headers.common.Authorization="Bearer "+this.token)}};function Wt(o,t,c,m,n,r){const u=l("router-view"),a=l("Layout");return p(),b(a,null,{default:i(()=>[s(u)]),_:1})}const Jt=h(Pt,[["render",Wt]]);G(Jt).use(L).use(K()).use(X,{lang:Z,plugins:{Notify:j}}).mount("#app");w.interceptors.response.use(o=>o,o=>{if(o.response.status===401)S().removeAuth();else return Promise.reject(o)});
