import{Y as N,a as I,r as n,c as b,b as t,F as E,d as T,e,w as i,o as _,t as C,f as q,g as j,h as A,i as y,j as Y,k as S,l as B,m as F,N as z,n as D,p as M,q as R,s as P,u as W,v as J,x as G,y as K,z as X,Q as Z,A as tt}from"./vendor-5ec90426.js";const v="/build/assets/default-149ace13.svg",h=(l,s)=>{const u=l.__vccOpts||l;for(const[p,o]of s)u[p]=o;return u},et={name:"Home",components:{YandexMarker:N,YandexMap:I},data(){return{map:null,map_controls:["typeSelector","trafficControl","fullscreenControl"],map_detailed_controls:{zoomControl:{position:{right:10,top:50}}},categories:[{title:"Фото студии",icon:v},{title:"Фото стульев",icon:v},{title:"Фото столов",icon:v},{title:"Фото ложек",icon:v},{title:"Фото кружек",icon:v},{title:"Фото Саши",icon:v},{title:"Фото Маши",icon:v},{title:"Фото Миши",icon:v},{title:"Фото Семёна",icon:v},{title:"Фото Семёна",icon:v},{title:"Фото Семёна",icon:v},{title:"Фото Семёна",icon:v},{title:"Фото Семёна",icon:v}]}}},st={class:"flex q-gutter-x-lg justify-center page-padding no-wrap overflow-auto",style:{margin:"18px"}},ot={class:"text-center"},nt=["src"],lt={class:"text-01"};function it(l,s,u,p,o,m){const a=n("YandexMarker"),c=n("YandexMap");return _(),b("div",null,[t("div",st,[(_(!0),b(E,null,T(o.categories,d=>(_(),b("div",ot,[t("img",{src:d.icon},null,8,nt),t("div",lt,C(d.title),1)]))),256))]),e(c,{coordinates:[55.75,37.57],zoom:11,"detailed-controls":o.map_detailed_controls,controls:o.map_controls,style:{height:"calc(100vh - 92px - 80px)"}},{default:i(()=>[e(a,{coordinates:[55.684381,37.339849]})]),_:1},8,["detailed-controls","controls"])])}const at=h(et,[["render",it]]),ct={data(){return{tab:""}}},rt={class:"row q-mt-lg"},ut={class:"col-12"},dt={class:"q-gutter-y-md",style:{width:"fit-content"}};function _t(l,s,u,p,o,m){const a=n("q-route-tab"),c=n("q-tabs"),d=n("q-page-container"),r=n("q-layout");return _(),q(r,null,{default:i(()=>[e(d,null,{default:i(()=>[t("div",rt,[t("div",ut,[t("div",dt,[e(c,{modelValue:o.tab,"onUpdate:modelValue":s[0]||(s[0]=f=>o.tab=f),class:"text-01 text-m","indicator-color":"primary"},{default:i(()=>[e(a,{name:"profile",to:"/account",label:"Мой профиль"}),e(a,{name:"security",to:"/account/account_security",label:"Безопасность"}),e(a,{name:"payments",to:"/account/account_payment",label:"Платежи"}),e(a,{name:"notifications",to:"/account/account_notification",label:"Уведомления"})]),_:1},8,["modelValue"])])])]),j(l.$slots,"default")]),_:3})]),_:3})}const O=h(ct,[["render",_t]]),mt="/build/assets/LeshaSVO-0aa53c55.png",pt="/build/assets/site-amico-1-e372d105.svg",gt="/build/assets/analysis-amico-1-3ac6e64e.svg",ft={data(){return{text:"Александр",date:"",phone:"+7",mail:"",about:""}},name:"Home",components:{AccountContainer:O}},ht={class:"row"},xt={class:"col-lg-3 col-md-12 col-xs-12 flex column items-center q-mt-md q-mr-auto"},vt=t("img",{src:mt,alt:"Аватарка",style:{width:"fit-content"}},null,-1),bt={class:"col-lg-4 col-md-12 col-xs-12 q-mt-md q-mr-auto"},qt={class:"column"},yt=t("span",{class:"text-m-b text-01"},"Имя по документам",-1),$t=t("span",{class:"text-xs text-02"},"Имя здесь должно совпадать с именем в вашем паспорте",-1),wt={class:"column q-mt-lg"},St=t("span",{class:"text-m-b text-01"},"Документ подтверждающий личность",-1),Vt=t("span",{class:"text-xs text-02"},"Удостоверение личности государственного образца",-1),kt={class:"column q-mt-lg"},Ut=t("span",{class:"text-m-b text-01"},"Дата рождения",-1),Et=t("span",{class:"text-xs text-02"},"Пользоваться сервисом могут лица, старше 18 лет",-1),At={class:"column q-mt-lg"},Rt=t("span",{class:"text-m-b text-01"},"Номер телефона",-1),Ot=t("span",{class:"text-xs text-02"},"Для связи с CreativeHub и гостями по подтверждённым бронированиям",-1),Ct={class:"column q-mt-lg"},Tt=t("span",{class:"text-m-b text-01"},"Электронная почта",-1),jt=t("span",{class:"text-xs text-02"},"Для связи с CreativeHub и гостями по подтверждённым бронированиям",-1),Ht={class:"column q-mt-lg"},zt=t("span",{class:"text-m-b text-01"},"Информация о себе",-1),Dt=t("span",{class:"text-xs text-02"},"Расскажите своим гостям и арендодателям о себе",-1),Mt=t("div",{class:"col-lg-4 col-md-12 col-xs-12 q-mt-md flex column"},[t("div",{class:"info-card"},[t("img",{src:pt}),t("span",{class:"text-m-b text-01"},"Зачем вносить ваши данные?"),t("span",{class:"text-s text-01"},"Для заключения договоров на площадке CreativeHub необходимо подтвердить вашу личность. Мы храним все персональные данные в соответствии с ФЗ-152 “О персональных данных”.")]),t("div",{class:"info-card q-mt-lg"},[t("img",{src:gt}),t("span",{class:"text-m-b text-01"},"Какие данные увидят другие?"),t("span",{class:"text-s text-01"},"CreativeHub сообщает гостям и хозяевам контактную информацию друг друга только после подтверждения бронирования.")])],-1);function Lt(l,s,u,p,o,m){const a=n("q-btn"),c=n("q-input"),d=n("AccountContainer");return _(),q(d,null,{default:i(()=>[t("div",ht,[t("div",xt,[vt,e(a,{class:"self-center secondary link",label:"Загрузить фото",unelevated:"","no-caps":""})]),t("div",bt,[t("div",qt,[yt,$t,e(c,{outlined:"",modelValue:o.text,"onUpdate:modelValue":s[0]||(s[0]=r=>o.text=r),readonly:"",class:"base-03"},null,8,["modelValue"])]),t("div",wt,[St,Vt,e(a,{label:"Загрузить документ",class:"link q-mt-sm",style:{width:"fit-content"},outline:"",unelevated:"","no-caps":""})]),t("div",kt,[Ut,Et,e(c,{outlined:"",modelValue:o.date,"onUpdate:modelValue":s[1]||(s[1]=r=>o.date=r),type:"date"},null,8,["modelValue"])]),t("div",At,[Rt,Ot,e(c,{mask:"+7(###)###-##-##","fill-mask":"_",outlined:"",modelValue:o.phone,"onUpdate:modelValue":s[2]||(s[2]=r=>o.phone=r)},null,8,["modelValue"]),e(a,{label:"Добавить другой номер",class:"link text-s-b",style:{width:"fit-content"},flat:"","no-caps":""})]),t("div",Ct,[Tt,jt,e(c,{outlined:"",modelValue:o.mail,"onUpdate:modelValue":s[3]||(s[3]=r=>o.mail=r)},null,8,["modelValue"])]),t("div",Ht,[zt,Dt,e(c,{outlined:"",modelValue:o.about,"onUpdate:modelValue":s[4]||(s[4]=r=>o.about=r),type:"textarea"},null,8,["modelValue"])])]),Mt])]),_:1})}const Qt=h(ft,[["render",Lt]]),Nt="/build/assets/OTP-amico-1-f2d66faf.svg",It={data(){return{value1:A(!1),value2:A(!1)}},name:"Home",components:{AccountContainer:O}},Yt={class:"row"},Bt={class:"col-lg-7 col-md-12 col-xs-12 q-mt-md q-mr-auto"},Ft=t("div",{class:"text-m-b text-01"},"Пароль",-1),Pt=t("div",{class:"text-xs text-02"},"Последний раз изменён: 10 дней назад",-1),Wt={class:"q-mt-lg"},Jt=t("div",{class:"text-m-b text-01"},"Двухфакторная аутентификация",-1),Gt=t("div",{class:"text-xs text-02"},"Вы будете получать код подтверждения для входа в аккаунт",-1),Kt={class:"q-mt-lg"},Xt=t("div",{class:"text-m-b text-01"},"Уведомления о входе в аккаунт",-1),Zt=t("div",{class:"text-xs text-02"},"Вы будете получать код подтверждения для входа в аккаунт",-1),te={class:"q-mt-lg"},ee=t("div",{class:"text-m-b text-01"},"История авторизации",-1),se={class:"flex items-center q-mt-sm"},oe=t("div",null,[t("div",{class:"text-m text-01"},"Windows 10"),t("div",{class:"text-s text-02"},"14.04.2023 в 10:18")],-1),ne={class:"flex items-center q-mt-sm"},le=t("div",null,[t("div",{class:"text-m text-01"},"Windows 10"),t("div",{class:"text-s text-02"},"14.04.2023 в 10:18")],-1),ie={class:"q-mt-lg"},ae=t("div",{class:"text-m-b text-01"},"Удаление аккаунта",-1),ce=t("div",{class:"text-xs text-02"},"Данное действие необратимо",-1),re=t("div",{class:"col-lg-4 col-md-12 col-xs-12 q-mt-md flex column"},[t("div",{class:"info-card"},[t("img",{src:Nt}),t("span",{class:"text-m-b text-01"},"Повысьте безопасность аккаунта"),t("span",{class:"text-s text-01"},"Безопасность нашего сообщества в приоритете. По этой причине мы проверяем степень защиты всех аккаунтов.")])],-1);function ue(l,s,u,p,o,m){const a=n("q-btn"),c=n("q-toggle"),d=n("q-icon"),r=n("q-badge"),f=n("AccountContainer");return _(),q(f,null,{default:i(()=>[t("div",Yt,[t("div",Bt,[Ft,Pt,e(a,{label:"Изменить пароль",class:"link q-mt-sm",style:{width:"fit-content"},outline:"",unelevated:"","no-caps":""}),t("div",Wt,[Jt,Gt,e(a,{label:"Подключить",class:"link q-mt-sm",style:{width:"fit-content"},outline:"",unelevated:"","no-caps":""})]),t("div",Kt,[Xt,Zt,t("div",null,[e(c,{label:"Электронная почта",modelValue:o.value1,"onUpdate:modelValue":s[0]||(s[0]=x=>o.value1=x),color:"primary","keep-color":"",style:{wight:"fit-content"}},null,8,["modelValue"])]),t("div",null,[e(c,{label:"Номер телефона",modelValue:o.value2,"onUpdate:modelValue":s[1]||(s[1]=x=>o.value2=x),color:"primary","keep-color":""},null,8,["modelValue"])])]),t("div",te,[ee,t("div",se,[e(d,{name:"computer",class:"q-mr-md",size:"24px"}),oe]),t("div",ne,[e(d,{name:"computer",class:"q-mr-md",size:"24px"}),le,e(r,{align:"middle",class:"q-ml-md"},{default:i(()=>[y("Текущая сессия")]),_:1})])]),t("div",ie,[ae,ce,e(a,{label:"Удалить аккаунт",class:"negative q-mt-sm",style:{width:"fit-content"},outline:"",unelevated:"","no-caps":""})])]),re])]),_:1})}const de=h(It,[["render",ue]]),_e="/build/assets/logos_mir-6eeaa499.svg",me="/build/assets/solar_ruble-broken-bcc60a67.svg",pe="/build/assets/E-Wallet-amico-1-bad499a0.svg",ge={data(){return{}},name:"Home",components:{AccountContainer:O}},fe={class:"row"},he={class:"col-lg-7 col-md-12 col-xs-12 q-mt-md q-mr-auto"},xe={class:"column"},ve=t("span",{class:"text-m-b text-01"},"Способы оплаты и получения средств",-1),be={class:"flex items-center q-mt-sm"},qe=t("img",{src:_e,alt:"Мир",style:{width:"32px"},class:"q-mr-md"},null,-1),ye={class:"flex justify-between items-center"},$e=t("span",{class:"text-m text-01"},"4276 •••• •••• 8990",-1),we=t("div",{class:"column q-mt-lg"},[t("span",{class:"text-m-b text-01"},"История платежей"),t("div",{class:"flex items-center q-mt-sm"},[t("img",{src:me,style:{width:"32px"},class:"q-mr-md"}),t("div",{class:"flex column"},[t("span",{class:"text-m text-01"},"Поступление: “Столица-Холл” 1500 ₽ "),t("span",{class:"text-s text-02"},"10.04.2023 в 10:01")])])],-1),Se=t("div",{class:"col-lg-4 col-md-12 col-xs-12 q-mt-md flex column"},[t("div",{class:"info-card"},[t("img",{src:pe}),t("span",{class:"text-m-b text-01"},"Совершайте все платежи через CreativeHub"),t("span",{class:"text-s text-01"},[y("Всегда платите и общайтесь только на платформе CreativeHub, чтобы на вас распространялись наши "),t("a",{href:"#",class:"link"},"Условия предоставления услуг"),y(", "),t("a",{href:"#",class:"link"},"Условия оплаты"),y(", "),t("a",{href:"#",class:"link"},"Правила отмены"),y(" и другие гарантии. ")])])],-1);function Ve(l,s,u,p,o,m){const a=n("q-btn"),c=n("AccountContainer");return _(),q(c,null,{default:i(()=>[t("div",fe,[t("div",he,[t("div",xe,[ve,t("div",be,[qe,t("div",ye,[$e,e(a,{flat:"",color:"negative",label:"Удалить"})])]),e(a,{label:"Добавить способ оплаты",class:"link q-mt-sm",style:{width:"fit-content"},outline:"",unelevated:"","no-caps":""})]),we]),Se])]),_:1})}const ke=h(ge,[["render",Ve]]),Ue="/build/assets/Mail-amico-1-7a9a1089.svg",Ee={data(){return{value1:A(!1),value2:A(!1)}},name:"Home",components:{AccountContainer:O}},Ae={class:"row"},Re={class:"col-lg-7 col-md-12 col-xs-12 q-mt-md q-mr-auto"},Oe=t("div",{class:"text-m-b text-01"},"Уведомления о бронировании",-1),Ce=t("div",{class:"text-xs text-02"},"По-мимо стандартных уведомлений на сайте",-1),Te={class:"q-mt-lg"},je=t("div",{class:"text-m-b text-01"},"Уведомления об акциях и скидках",-1),He=t("div",{class:"text-xs text-02"},"По-мимо стандартных уведомлений на сайте",-1),ze={class:"q-mt-lg"},De=t("div",{class:"text-m-b text-01"},"Рекламные уведомления",-1),Me=t("div",{class:"text-xs text-02"},"По-мимо стандартных уведомлений на сайте",-1),Le=t("div",{class:"col-lg-4 col-md-12 col-xs-12 q-mt-md flex column"},[t("div",{class:"info-card"},[t("img",{src:Ue}),t("span",{class:"text-m-b text-01"},"Подключайте уведомления и будьте в курсе"),t("span",{class:"text-s text-01"},"Включив уведомления вы будете моментально получать оповещения о новых бронированиях, акциях ")])],-1);function Qe(l,s,u,p,o,m){const a=n("q-toggle"),c=n("q-tooltip"),d=n("AccountContainer");return _(),q(d,null,{default:i(()=>[t("div",Ae,[t("div",Re,[Oe,Ce,t("div",null,[e(a,{label:"Электронная почта",modelValue:o.value1,"onUpdate:modelValue":s[0]||(s[0]=r=>o.value1=r),color:"primary","keep-color":""},null,8,["modelValue"])]),t("div",null,[e(a,{label:"SMS",modelValue:o.value2,"onUpdate:modelValue":s[1]||(s[1]=r=>o.value2=r),color:"primary","keep-color":""},{default:i(()=>[e(c,null,{default:i(()=>[y("Может взыматься плата согласно тарифов вашего оператора")]),_:1})]),_:1},8,["modelValue"])]),t("div",Te,[je,He,t("div",null,[e(a,{label:"Электронная почта",modelValue:o.value1,"onUpdate:modelValue":s[2]||(s[2]=r=>o.value1=r),color:"primary","keep-color":""},null,8,["modelValue"])]),t("div",null,[e(a,{label:"SMS",modelValue:o.value2,"onUpdate:modelValue":s[3]||(s[3]=r=>o.value2=r),color:"primary","keep-color":""},{default:i(()=>[e(c,null,{default:i(()=>[y("Может взыматься плата согласно тарифов вашего оператора")]),_:1})]),_:1},8,["modelValue"])])]),t("div",ze,[De,Me,t("div",null,[e(a,{label:"Электронная почта",modelValue:o.value1,"onUpdate:modelValue":s[4]||(s[4]=r=>o.value1=r),color:"primary","keep-color":""},null,8,["modelValue"])])])]),Le])]),_:1})}const Ne=h(Ee,[["render",Qe]]),Ie={name:"PageNotFound"};function Ye(l,s,u,p,o,m){return _(),b("div",null," Страница не найдена ")}const Be=h(Ie,[["render",Ye]]),Fe={name:"LeaseHistory"};function Pe(l,s,u,p,o,m){return _(),b("div",null," История аренды ")}const We=h(Fe,[["render",Pe]]),Je={name:"LeaseObject"};function Ge(l,s,u,p,o,m){return _(),b("div",null," Сдать объект в аренду ")}const Ke=h(Je,[["render",Ge]]),Xe={data(){return{items:[{title:"Question_Title",body:"body"},{title:"Question_Title",body:"body"},{title:"Question_Title",body:"body"},{title:"Question_Title",body:"body"},{title:"Question_Title",body:"body"},{title:"Question_Title",body:"body"},{title:"Question_Title",body:"body"},{title:"Question_Title",body:"body"},{title:"Question_Title",body:"body"},{title:"Question_Title",body:"body"}]}},name:"Helps"},Ze={class:"q-px-lg q-py-md"};function ts(l,s,u,p,o,m){const a=n("q-timeline-entry"),c=n("q-timeline");return _(),b("div",Ze,[e(c,{color:"secondary"},{default:i(()=>[e(a,{heading:"",body:"Ответы на часто задаваемые вопросы"}),(_(!0),b(E,null,T(o.items,d=>(_(),q(a,{title:d.title,body:d.body},null,8,["title","body"]))),256))]),_:1})])}const es=h(Xe,[["render",ts]]),ss={name:"FavoriteObjects"};function os(l,s,u,p,o,m){return _(),b("div",null," Избранные объекты ")}const ns=h(ss,[["render",os]]),ls={data(){return{tab:""}}},is={class:"row q-mt-lg"},as={class:"col-12"},cs={class:"q-gutter-y-md",style:{width:"fit-content"}};function rs(l,s,u,p,o,m){const a=n("q-route-tab"),c=n("q-tabs"),d=n("q-page-container"),r=n("q-layout");return _(),q(r,null,{default:i(()=>[e(d,null,{default:i(()=>[t("div",is,[t("div",as,[t("div",cs,[e(c,{modelValue:o.tab,"onUpdate:modelValue":s[0]||(s[0]=f=>o.tab=f),class:"text-01 text-m","indicator-color":"primary"},{default:i(()=>[e(a,{name:"myObjects",to:"/my_objects",label:"Мои объекты"}),e(a,{name:"booking",to:"/my_objects/booking",label:"Бронирования"}),e(a,{name:"finance",to:"/my_objects/finance",label:"Финансы"})]),_:1},8,["modelValue"])])])]),j(l.$slots,"default")]),_:3})]),_:3})}const us=h(ls,[["render",rs]]),ds={data(){return{}},name:"MyObjects",components:{ObjectContainer:us}},_s=t("div",null," Мои объекты ",-1);function ms(l,s,u,p,o,m){const a=n("ObjectContainer");return _(),q(a,null,{default:i(()=>[_s]),_:1})}const H=h(ds,[["render",ms]]),ps=[{path:"/",component:at,meta:{requiresAuth:!1,fullWidth:!0}},{path:"/help",component:es,meta:{requiresAuth:!1}},{path:"/:pathMatch(.*)*",component:Be,meta:{requiresAuth:!1}},{path:"/account",component:Qt,meta:{requiresAuth:!0}},{path:"/account/account_security",component:de,meta:{requiresAuth:!0}},{path:"/account/account_payment",component:ke,meta:{requiresAuth:!0}},{path:"/account/account_notification",component:Ne,meta:{requiresAuth:!0}},{path:"/favorite_objects",component:ns,meta:{requiresAuth:!0}},{path:"/lease_object",component:Ke,meta:{requiresAuth:!0}},{path:"/lease_history",component:We,meta:{requiresAuth:!0}},{path:"/my_objects",component:H,meta:{requiresAuth:!0}},{path:"/my_objects/booking",component:H,meta:{requiresAuth:!0}}],V=Y("user",{state:()=>({user:JSON.parse(window.localStorage.getItem("user")),token:window.localStorage.getItem("token"),show_signin_dialog:!1,show_signup_dialog:!1}),actions:{signup(l,s,u){return S.post("/api/register",{name:l,email:s,password:u})},signin(l,s){return S.post("/api/login",{email:l,password:s}).then(u=>this.setAuth(u.data.data.token,u.data.data.user))},logout(){return S.post("/api/logout").then(()=>this.removeAuth())},setAuth(l,s){this.user=s,this.token=l,S.defaults.headers.common.Authorization="Bearer "+l,window.localStorage.setItem("token",l),window.localStorage.setItem("user",JSON.stringify(s))},removeAuth(){this.token=null,this.user=null,window.localStorage.removeItem("token"),window.localStorage.removeItem("user"),delete S.defaults.headers.common.Authorization}}}),L=B({history:F(),routes:ps});L.beforeEach(async(l,s,u)=>{const p=V();l.meta.requiresAuth&&!p.token?(p.show_signin_dialog=!0,z.create({icon:"info",message:"Для продолжения необходимо авторизоваться"}),s.meta.requiresAuth===!1?u(!1):u("/")):u()});const gs={name:"SigninDialog",data(){return{USER_STORE:V(),signin_email:null,signin_password:null,signin_loading:!1}},computed:{show_signin:{get(){return this.USER_STORE.show_signin_dialog},set(l){this.USER_STORE.show_signin_dialog=l}}},methods:{async signin(){return this.signin_loading=!0,this.USER_STORE.signin(this.signin_email,this.signin_password).then(()=>{this.$q.notify({type:"positive",message:"Авторизация выполнена"}),this.USER_STORE.show_signin_dialog=!1}).catch(l=>{(l.status=403)?this.$q.notify({type:"negative",message:"Неверные данные учётной записи"}):this.$q.notify({type:"negative",message:"Ошибка сервера"})}).finally(()=>this.signin_loading=!1)},showSignupDialog(){this.USER_STORE.show_signup_dialog=!0}}},fs=t("div",{class:"text-h6"},"Авторизация",-1);function hs(l,s,u,p,o,m){const a=n("q-space"),c=n("q-btn"),d=n("q-card-section"),r=n("q-separator"),f=n("q-icon"),x=n("q-input"),k=n("q-card"),U=n("q-dialog"),$=D("close-popup");return _(),q(U,{modelValue:m.show_signin,"onUpdate:modelValue":s[4]||(s[4]=g=>m.show_signin=g),persistent:""},{default:i(()=>[e(k,null,{default:i(()=>[t("form",{onSubmit:s[3]||(s[3]=M(g=>m.signin(),["prevent"]))},[e(d,{class:"row items-center"},{default:i(()=>[fs,e(a),R(e(c,{icon:"close",flat:"",round:"",dense:""},null,512),[[$]])]),_:1}),e(r),e(d,{class:"q-gutter-y-md"},{default:i(()=>[e(x,{modelValue:o.signin_email,"onUpdate:modelValue":s[0]||(s[0]=g=>o.signin_email=g),label:"Введите электронную почту",filled:"",type:"email",required:""},{prepend:i(()=>[e(f,{name:"email"})]),_:1},8,["modelValue"]),e(x,{modelValue:o.signin_password,"onUpdate:modelValue":s[1]||(s[1]=g=>o.signin_password=g),label:"Введите пароль",filled:"",type:"password",required:""},{prepend:i(()=>[e(f,{name:"password"})]),_:1},8,["modelValue"])]),_:1}),e(r),e(d,{class:"flex justify-end q-gutter-x-xs"},{default:i(()=>[R(e(c,{onClick:s[2]||(s[2]=g=>m.showSignupDialog()),flat:"",label:"Регистрация",color:"primary"},null,512),[[$]]),e(c,{label:"Подтвердить",color:"primary",type:"submit",loading:o.signin_loading},null,8,["loading"])]),_:1})],32)]),_:1})]),_:1},8,["modelValue"])}const xs=h(gs,[["render",hs]]),vs={name:"SignupDialog",data(){return{USER_STORE:V(),signup_name:null,signup_email:null,signup_password:null,signup_confirm_password:null,signup_loading:!1}},computed:{show_signup:{get(){return this.USER_STORE.show_signup_dialog},set(l){this.USER_STORE.show_signup_dialog=l}}},methods:{signup(){if(this.signup_password.length<6){this.$q.notify({type:"negative",message:"Длина пароля менее 6 символов"});return}if(this.signup_password!==this.signup_confirm_password){this.$q.notify({type:"negative",message:"Пароли не совпадают"});return}this.signup_loading=!0,this.USER_STORE.signup(this.signup_name,this.signup_email,this.signup_password).then(()=>{this.USER_STORE.signin(this.signup_email,this.signup_password).then(()=>{this.$q.notify({type:"positive",message:"Регистрация выполнена"}),this.USER_STORE.show_signup_dialog=!1})}).catch(l=>{(l.status=422)?this.$q.notify({type:"negative",message:"Такая почта уже зарегистрирована"}):this.$q.notify({type:"negative",message:"Ошибка сервера"})}).finally(()=>this.signup_loading=!1)},showSigninDialog(){this.USER_STORE.show_signin_dialog=!0}}},bs=t("div",{class:"text-h6"},"Регистрация",-1);function qs(l,s,u,p,o,m){const a=n("q-space"),c=n("q-btn"),d=n("q-card-section"),r=n("q-separator"),f=n("q-icon"),x=n("q-input"),k=n("q-card"),U=n("q-dialog"),$=D("close-popup");return _(),q(U,{modelValue:m.show_signup,"onUpdate:modelValue":s[6]||(s[6]=g=>m.show_signup=g),persistent:""},{default:i(()=>[e(k,null,{default:i(()=>[t("form",{onSubmit:s[5]||(s[5]=M(g=>m.signup(),["prevent"]))},[e(d,{class:"row items-center"},{default:i(()=>[bs,e(a),R(e(c,{icon:"close",flat:"",round:"",dense:""},null,512),[[$]])]),_:1}),e(r),e(d,{class:"q-gutter-y-md"},{default:i(()=>[e(x,{modelValue:o.signup_name,"onUpdate:modelValue":s[0]||(s[0]=g=>o.signup_name=g),label:"Введите имя",filled:"",required:""},{prepend:i(()=>[e(f,{name:"face"})]),_:1},8,["modelValue"]),e(x,{modelValue:o.signup_email,"onUpdate:modelValue":s[1]||(s[1]=g=>o.signup_email=g),label:"Введите электронную почту",filled:"",type:"email",required:""},{prepend:i(()=>[e(f,{name:"email"})]),_:1},8,["modelValue"]),e(x,{modelValue:o.signup_password,"onUpdate:modelValue":s[2]||(s[2]=g=>o.signup_password=g),label:"Введите пароль",filled:"",type:"password",required:"",minlength:"6"},{prepend:i(()=>[e(f,{name:"password"})]),_:1},8,["modelValue"]),e(x,{modelValue:o.signup_confirm_password,"onUpdate:modelValue":s[3]||(s[3]=g=>o.signup_confirm_password=g),label:"Повторите пароль",filled:"",type:"password",required:"",minlength:"6"},{prepend:i(()=>[e(f,{name:"password"})]),_:1},8,["modelValue"])]),_:1}),e(r),e(d,{class:"flex justify-end q-gutter-x-xs"},{default:i(()=>[R(e(c,{onClick:s[4]||(s[4]=g=>m.showSigninDialog()),flat:"",label:"Авторизация",color:"primary"},null,512),[[$]]),e(c,{label:"Подтвердить",color:"primary",type:"submit",loading:o.signup_loading},null,8,["loading"])]),_:1})],32)]),_:1})]),_:1},8,["modelValue"])}const ys=h(vs,[["render",qs]]),$s="/build/assets/Logo-00950b74.svg";const ws={name:"Layout",components:{SignupDialog:ys,SigninDialog:xs},data(){return{USER_STORE:V(),active:"guide",search:"",user_panel_links:[{title:"Аккаунт",to:"/account"},{title:"История аренды",to:"/lease_history"},{title:"Мои объекты",to:"/my_objects"},{title:"Избранное",to:"/favorite_objects"},{title:"Помощь",to:"/help"}]}},methods:{logout(){this.USER_STORE.logout().then(()=>{this.$q.notify({type:"positive",message:"Вы вышли из своей учётной записи"}),this.$route.meta.requiresAuth&&this.$router.push("/")})}}},Ss=l=>(J("data-v-23f251fe"),l=l(),G(),l),Vs={class:"flex justify-between items-center page-padding no-wrap border-radius-lg",style:{margin:"10px 0"}},ks=Ss(()=>t("img",{src:$s,style:{height:"40px"}},null,-1)),Us={class:"flex-grow-1 flex justify-center"},Es={class:"flex"},As={class:"user-panel"},Rs={class:"flex justify-center full-width"};function Os(l,s,u,p,o,m){const a=n("router-link"),c=n("q-icon"),d=n("q-input"),r=n("q-btn"),f=n("q-item-section"),x=n("q-item"),k=n("q-list"),U=n("q-menu"),$=n("q-separator"),g=n("SigninDialog"),Q=n("SignupDialog");return _(),b("div",null,[t("header",null,[t("div",Vs,[t("div",null,[e(a,{to:"/"},{default:i(()=>[ks]),_:1})]),t("div",Us,[e(d,{outlined:"",modelValue:o.search,"onUpdate:modelValue":s[0]||(s[0]=w=>o.search=w),placeholder:"Найдите площадку мечты",dense:"",style:{"max-width":"500px"},class:"flex-grow-1"},{prepend:i(()=>[e(c,{name:"search"})]),_:1},8,["modelValue"])]),t("div",Es,[e(r,{label:"Сдать в аренду",flat:"","no-caps":"",class:"self-center btn-p-sm link",style:{height:"40px","margin-right":"12px"},to:"/lease_object"}),t("div",null,[o.USER_STORE.user?(_(),b(E,{key:0},[t("div",As,[e(c,{name:"menu",size:"24px"}),e(c,{name:"o_account_circle",size:"24px",class:"q-ml-sm q-mr-xs"}),t("span",null,C(o.USER_STORE.user.name),1)]),e(U,{"auto-close":"",fit:"",offset:[0,4]},{default:i(()=>[e(k,null,{default:i(()=>[o.USER_STORE.user.is_admin?(_(),q(x,{key:0,clickable:"",onClick:s[1]||(s[1]=w=>l.$router.push("/admin_panel"))},{default:i(()=>[e(f,{class:"text-size-sm"},{default:i(()=>[y("Панель администратора")]),_:1})]),_:1})):P("",!0),(_(!0),b(E,null,T(o.user_panel_links,w=>(_(),q(x,{to:w.to,clickable:""},{default:i(()=>[e(f,{class:"text-size-sm",textContent:C(w.title)},null,8,["textContent"])]),_:2},1032,["to"]))),256)),e(x,{clickable:"",onClick:s[2]||(s[2]=w=>m.logout())},{default:i(()=>[e(f,{class:"text-size-sm"},{default:i(()=>[y("Выйти")]),_:1})]),_:1})]),_:1})]),_:1})],64)):(_(),b("div",{key:1,class:"user-panel",onClick:s[3]||(s[3]=w=>o.USER_STORE.show_signin_dialog=!0)},[e(c,{name:"menu",size:"24px",class:"q-mr-sm"}),e(c,{name:"o_account_circle",size:"24px"})]))])])]),e($)]),t("main",Rs,[t("div",{class:W(l.$route.meta.fullWidth?"full-width":"page-default-width")},[j(l.$slots,"default",{},void 0,!0)],2)]),e(g),e(Q)])}const Cs=h(ws,[["render",Os],["__scopeId","data-v-23f251fe"]]),Ts={name:"App",components:{Layout:Cs},beforeMount(){V().token&&(S.defaults.headers.common.Authorization="Bearer "+this.token)}};function js(l,s,u,p,o,m){const a=n("router-view"),c=n("Layout");return _(),q(c,null,{default:i(()=>[e(a)]),_:1})}const Hs=h(Ts,[["render",js]]);K(Hs).use(L).use(X()).use(Z,{lang:tt,plugins:{Notify:z}}).mount("#app");S.interceptors.response.use(l=>l,l=>{if(l.response.status===401)V().removeAuth();else return Promise.reject(l)});
